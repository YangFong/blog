## 题目描述

给定一个无序的整数数组，统计其中数字出现的次数（只关注出现过的数字）。

数组生成方式

```js
/**
 * 创造一个随机生成的整数数组
 * @param {number} n 决定数组长度与随机数范围
 * @returns {number[]}
 */
function createRandomArr(n = 5) {
  const arr = new Array(n);
  for (let i = 0; i < n; i++) {
    arr[i] = Math.floor(Math.random() * n);
  }
  return arr;
}
```

```java
public static int[] createRandomArr(int n) {
    int[] arr = new int[n];
    for (int i = 0; i < n; i++) {
        arr[i] = (int) Math.floor(Math.random() * n);
    }
    return arr;
}
```

将统计结果输出即可，如：

```js
console.log("数字 1 出现次数：3");
console.log("数字 2 出现次数：1");
```

## ZXY

<!-- 解题思路 -->

1. 获取数组长度，生成等量数组进行记录
2. 循环生成的数组，将对应记录位置进行自增
3. 循环记录数组，将出现次数记录大于 0 的进行打印

<!-- 解题代码 -->

```java
class Solution {
    public void numCount(int[] arr) {
        int[] nums = new int[arr.length];
        for (int i = 0; i < arr.length; i++) {
            nums[arr[i]]++;
        }
        for (int i = 0; i < nums.length; i++) {
            if(nums[i] != 0){
                System.out.println("数字"+i+"出现"+nums[i]+"次");
            }
        }
    }
}
```

### 优化

#### 编程风格

对于 `+`，我们通常会在左右加一个空格进行留白

```java
class Solution {
    public void numCount(int[] arr) {
        int[] nums = new int[arr.length];
        for (int i = 0; i < arr.length; i++) {
            nums[arr[i]]++;
        }
        for (int i = 0; i < nums.length; i++) {
            if(nums[i] != 0){
                // System.out.println("数字"+i+"出现"+nums[i]+"次");
                System.out.println("数字" + i + "出现" + nums[i] + "次");
            }
        }
    }
}
```

#### 简化长度

多处使用 `arr.length`，可以简化一下

```java
class Solution {
    public void numCount(int[] arr) {
        int n = arr.length;
        int[] nums = new int[n];
        for (int i = 0; i < n; i++) {
            nums[arr[i]]++;
        }
        // 因为 nums.length == arr.length，所以 n == nums.length
        for (int i = 0; i < n; i++) {
            if(nums[i] != 0){
                System.out.println("数字" + i + "出现" + nums[i] + "次");
            }
        }
    }
}
```

#### 不关注索引

对于索引，只用于提取元素而无它用，那就可以转换为增强 `for`

```java
class Solution {
    public void numCount(int[] arr) {
        int n = arr.length;
        int[] nums = new int[n];
        for (int i: arr) {
            nums[i]++;
        }

        for (int i = 0; i < n; i++) {
            if(nums[i] != 0){
                System.out.println("数字" + i + "出现" + nums[i] + "次");
            }
        }
    }
}
```

## 其他解决方案

### 遍历

双层遍历，统计数据

> 为什么统计之后要将其置为 -1？
>
> **防止重复统计**，此处断言 -1 不可能存在数组当中

```java
class Solution {
    public void numCount(int[] arr) {
        int n = arr.length;
        for (int i = 0; i < n; i++) {
            int count = 1;
            int num = arr[i];
            if (num == -1) {
                continue;
            }
            for (int j = i + 1; j < n; i++) {
                if (arr[j] == num) {
                    count++;
                    arr[j] = -1;
                }
            }
            System.out.println("数字" + num + "出现" + count + "次");
        }
    }
}
```

### 排序

排序数组，将相同的数字聚拢到一起，即可使用双指针进行计数

```java
class Solution {
    public void numCount(int[] arr) {
        Arrays.sort(arr);
        int n = arr.length;
        int pev = arr[0];
        int cur = arr[0];
        int count = 1;
        for (int i = 1; i < n; i++) {
            cur = arr[i];
            if (cur != pev) {
                System.out.println("数字" + pev + "出现" + count + "次");
                count = 0;
                pev = cur;
            }
            count++;
        }
        // 最后一个元素无法在循环时触发，需结束时再输出一次
        System.out.println("数字" + cur + "出现" + count + "次");
    }
}
```

### 哈希表

可以更加优雅的记录次数

```java
class Solution {
    public void numCount(int[] arr) {
        int n = arr.length;
        HashMap<Integer, Integer> map = new HashMap<>();
        for (int num: arr) {
            map.put(num, map.getOrDefault(num, 0) + 1);
        }
        map.forEach((k, v) -> System.out.println("数字" + k + "出现" + v + "次"));
    }
}
```
